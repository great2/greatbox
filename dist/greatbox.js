"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(u){var b,a,g=!1;u.lightbox=function(t,o){g=!0,u.fn.lightbox(t,o)},u.fn.lightbox=function(r,t){function d(t,o){console.log("%cLightbox is Loading",logInfoStyle);var i=u("body");i.append(o.lbTemplate),(a=u(".lightbox")).attr("id",o.id),u(".lb-container").on("click",function(t){t.stopPropagation()});var n,e=u(".lb-close-btn");switch(o.closeBtn?e.on("click",function(){l(o)}):e.remove(),o.bodyClickClose&&i.on("click",function(){l(o)}),o.type){case"file":n=o,u(".lb-content").load(n.fullPath,function(){listenImagesLoading(a,function(){var t,o;(t=n).callback(),o=t,u(".lb-container").stop().animate({opacity:1},{duration:o.duration,complete:function(){console.log("%cLightbox Loading Completed!",logSafeStyle)}}),u(".lb-loading").stop().animate({opacity:0},{duration:o.duration})})})}a.stop().animate({opacity:1},{duration:o.duration})}function l(t){if(!isExist(".lightbox"))return!1;a.stop().animate({opacity:0},{duration:t.duration,complete:function(){u(this).remove(),console.log("%cLightbox Is Closed",logSafeStyle)}})}return u.each(this,function(t,o){var i=u(o),n={closeBtn:!0,bodyClickClose:!0,showWhenLanding:!1,duration:200,lbTemplate:'<div class="lightbox"><div class="lb-container"><div class="lb-content"></div><div class="lb-close-btn"></div></div><div class="lb-loading"><svg><path d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"><animateTransform attributeType="xml"attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/></path></svg></div></div>',type:"file",filesRootPath:"./includes/lightbox/",filesDefaultExtension:".html",fileName:"",id:"",fullPath:"",bindEvt:"click",callback:function(){}};if("object"!==(void 0===r?"undefined":_typeof(r))){var e=r;switch(r={},void 0===e?"undefined":_typeof(e)){case"function":r.callback=e;break;case"string":r.fullPath=e}}var l,a,c,s=u.extend(n,r);if(s.closeBtn||(s.bodyClickClose=!0),g)d(0,s);else{var f=(b=i).data("lb");if(s.fileName){if(!f)return console.log("%c未設定檔案名稱",logErrorStyle),!1}else s.fileName=f;""===s.fullPath&&(s.fullPath=(c=s).fullPath?c.fullPath:c.filesRootPath+c.fileName+c.filesDefaultExtension),s.id||(s.id=s.fileName),s.showWhenLanding?d(0,s):(a=s,(l=b).on(a.bindEvt,function(t){t.preventDefault(),t.stopPropagation(),isExist(".lightbox")?console.log("%c前 lightbox 尚未關閉",logErrorStyle):d(0,a)}),a.showWhenLanding&&l.trigger(a.bindEvt))}}),this}}(jQuery);